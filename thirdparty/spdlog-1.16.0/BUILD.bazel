cc_library(
    name = "spdlog",
    srcs = select({
        "//:riscv_platform": glob([
            "output_riscv/lib/*.so*",
        ]),
        "//:x86_platform": glob([
            "output_x86/lib/*.so*",
        ]),
        "//conditions:default": glob([
            "output_x86/lib/*.so*",
        ]),
    }),
    hdrs = select({
        "//:riscv_platform": glob([
            "output_riscv/include/spdlog/**/*.h",
        ]),
        "//:x86_platform": glob([
            "output_x86/include/spdlog/**/*.h",
        ]),
        "//conditions:default": glob([
            "output_x86/include/spdlog/**/*.h",
        ]),
    }),
    defines = ["SPDLOG_COMPILED_LIB"],
    includes = select({
        "//:riscv_platform": ["output_riscv/include"],
        "//:x86_platform": ["output_x86/include"],
        "//conditions:default": ["output_x86/include"],
    }),
    visibility = ["//visibility:public"],
)
